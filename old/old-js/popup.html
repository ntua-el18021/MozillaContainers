<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="../styles/popupStyles.css">
    <link rel="stylesheet" href="../styles/profileStyles.css">
    <link rel="stylesheet" href="../styles/manageProfileStyles.css">
    <link rel="stylesheet" href="../styles/generalStyles.css">
    <link rel="stylesheet" href="../styles/informationStyles.css">
    <link rel="stylesheet" href="../styles/historyViewStyles.css">




    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Container Profile Manager</title>
</head>

<body>

    <!-- MAIN POPUP VIEW -->
    <div class="popupMain"id="popupMainId" style="display:block;">

        <h3>History under Control</h3>
        
        <div class="actionIconsList">
            <div class="profileIconDiv">
                <img id="goToProfileView" src="../images/profile.png" alt="Icon 1">
                <!-- <div class="icon-text">New Profile</div> -->
            </div>
            <div class="historyIconDiv">
                <img id="goToHistoryView" src="../images/history.png" alt="Icon 3">
                <!-- <div class="icon-text">View History</div> -->
            </div>
            <div class="informationIconDiv">
                <img id="goToInformationView" src="../images/info.png" alt="Icon 3">
                <!-- <div class="icon-text">View History</div> -->
            </div>
        </div>
        
        <div class="profileActionsList" id="profileActionsListId">
            <div class="alwaysOpenDiv" id="alwaysOpenDivId">
                <img class="profileActionsIcons" src="../icons/popupMainIcons/newTab.png" alt="Icon 4">
                <span>Always Open This Site in...</span>
                <img class="rightArrowIcon", src="../icons/popupMainIcons/rightArrow.png" alt="Icon 4">
            </div>
            <div class="reopenInDiv" id="reopenInDivId">
                <img class="profileActionsIcons" src="../icons/popupMainIcons/reopenTab.png" alt="Icon 4">
                <span>Reopen This Tab in...</span>
                <img class="rightArrowIcon", src="../icons/popupMainIcons/rightArrow.png" alt="Icon 4">
            </div>
            <div class="sortTabsDiv" id="sortTabsDivId">
                <img class="profileActionsIcons" src="../icons/popupMainIcons/sort.png" alt="Icon 4">
                <span>Sort Tabs by Profile</span>
            </div>

        </div>

        <div id="spacerMainId"></div>
                
        <span id="containersTitleId">Containers</span>
        <input type="text" id="containerSearchId" placeholder="Search for containers...">

        <div class="containerList" id="containerListId"></div>

        <button id="manageProfiles">Manage Profiles</button>
    </div>



    <!-- CREATE NEW PROFILE VIEW -->
    <div class="profile-card" id="createProfilePageId" style="display:none;">

        <div class="profileHeader"> 
            <!-- <button class="backButton" id="backButtonId">&lt;</button> -->
            <button class="backButton" id="backButtonId">
                <img id="goToMainView" src="../icons/generalIcons/back.png" alt="Back">
            </button>
            
            <h3>New Profile</h3>
        </div>

        <div class="profileName">
            <label for="name">Name</label>
            <input type="text" id="profileName" placeholder="Profile Name">
        </div>
        <div class="colorGroup" >
            <label for="profileColor">Profile Color:</label>
            <div class="colors" >
                <div class="colorWrapper" >
                    <div class="colorBehind" ></div>
                    <div class="color blue" tabindex="0" id="blue"></div>
                </div>
                <div class="colorWrapper">
                    <div class="colorBehind"></div>
                    <div class="color turquoise" tabindex="0" id="turquoise"></div>
                </div>
                <div class="colorWrapper">
                    <div class="colorBehind"></div>
                    <div class="color green" tabindex="0"id="green"></div>
                </div>
                <div class="colorWrapper">
                    <div class="colorBehind"></div>
                    <div class="color yellow" tabindex="0"id="yellow"></div>
                </div>
                <div class="colorWrapper">
                    <div class="colorBehind"></div>
                    <div class="color orange" tabindex="0"id="orange"></div>
                </div>
                <div class="colorWrapper">
                    <div class="colorBehind"></div>
                    <div class="color red" tabindex="0"id="red"></div>
                </div>
                <div class="colorWrapper">
                    <div class="colorBehind"></div>
                    <div class="color pink" tabindex="0"id="pink"></div>
                </div>
                <div class="colorWrapper">
                    <div class="colorBehind"></div>
                    <div class="color purple" tabindex="0"id="purple"></div>
                </div>
            </div>
        </div>

        <div class="iconGroup">
            <label for="profileIcon">Profile Icon:</label>
            <div class="icons">
                <i class="material-icons" tabindex="0">fingerprint</i>    
                <i class="material-icons" tabindex="0">work</i>          
                <i class="material-icons" tabindex="0">attach_money</i>   
                <i class="material-icons" tabindex="0">shopping_cart</i>  
                <i class="material-icons" tabindex="0">flight_takeoff</i> 
                <i class="material-icons" tabindex="0">card_giftcard</i>  
                <i class="material-icons" tabindex="0">restaurant</i>     
                <i class="material-symbols-outlined" tabindex="0">nutrition</i>
                <i class="material-icons" tabindex="0">pets</i>          
                <i class="material-symbols-outlined" tabindex="0">park</i>
                <i class="material-symbols-outlined" tabindex="0">eyeglasses</i>
                <i class="material-symbols-outlined" tabindex="0">fence</i>
            </div>
        </div>
        
        <div class="profileActions">
            <button class="cancel">Cancel</button>
            <button class="ok", id="createProfileOkButton">OK</button>
        </div>
    </div>


    <!-- MANAGE PROFILES VIEW -->
    <div class="manageProfiles" id="manageProfilesPageId" style="display:none;">

        <div class="profileHeader"> 
            <button class="backButton" id="manageBackButtonId">
                <img id="goToMainView" src="../icons/generalIcons/back.png" alt="Back">
            </button>

            <h3>Manage Profiles</h3>
        </div>

        <div class="manageCreateNewProfile" id="manageCreateNewProfileId">
            <div class="manageCreateButtonWhole">
                <img class="manageNewProfileIcon" src="../icons/generalIcons/add.png">
                <span><strong>New Profile</strong></span>
            </div>
        </div>

        <div class="searchProfile" >
            <label for="name"><strong>Search Profile</strong></label>
            <input type="text" id="manageProfilesSearchId" placeholder="Profile Name">
        </div>
        
        <div class="manageContainerList" id="manageContainerListId"></div>

        <button id="deleteAllProfiles">Delete All Profiles</button>        
    </div>


    <!-- CONTAINERS LIST VIEW -->
    <div class="containersListPage" id="containersListPageId" style="display:none;">
        <div class="profileHeader"> 
            <button class="backButton" id="containersListeBackButtonId">
                <img id="goToMainView" src="../icons/generalIcons/back.png" alt="Back">
            </button>
            <h3>Select Profile</h3>
        </div>

        <div class="searchProfile">
            <label for="name"><strong>Search Profile</strong></label>
            <input type="text" id="containersListViewSearchId" placeholder="Profile Name">
        </div>

        <div class="containerList" id="containersListViewId"></div>
    </div>


    <!-- INFORMATION PAGE VIEW -->
    <div class="informationPage" id="informationPageId" style="display:none;">
        <div class="profileHeader"> 
            <button class="backButton" id="infoViewBackButtonId">
                <img src="../icons/infoIcons/back.png" alt="Back">
            </button>
            <h3><span class="yellow">Information is Power!</span></h3>
        </div>

        <div class="headerDescriptionDiv">
            <p class="headerDescription"><span class="yellowFaded">Discover the full capabilities of your profile management add-on.</span></p>
        </div>

        <div class="informationSection">
            <h4>General Overview</h4>

            <div class="infoItem">
                <img class="infoIcon" src="../icons/infoIcons/profileIcon.png" alt="Icon description">
                <h5>What is a Profile?</h5>
            </div>
            <p>A profile seamlessly fits into your Firefox’s session, separating cookies between profiles, allowing for creating various profiles to fit your different searches and by keeping your histories separate</p>

            <div class="infoItem">
                <img class="infoIcon" src="../icons/infoIcons/historyIcon.png" alt="Another icon description">
                <h5>Why Seperate Histories?</h5>
            </div>
            <p>Firefox natively keeps track of all the profile’s searches, but does not differentiate between profiles. Our addon offers separation of histories, allowing you to have the histories of a certain profile nice and tidy! We suggest creating a new profile for every big project you embark on. You can also have specific profiles for specific styles.</p>
        </div>


        <div class="informationSection">
            <h4>Create New Profile</h4>

            <div class="infoItem">
                <img class="infoIcon" src="../icons/infoIcons/profileIcon.png" alt="Icon description">
                <h5>Identifiers</h5>
            </div>
            <ul>
                <li>Profile Name <span class="italics">(unique)</span></li>
                <li>Profile Icon</li>
                <li>Profile Color</li>
            </ul>
            <div class="infoItem">
                <img class="infoIcon" src="../icons/infoIcons/tips.png" alt="Icon description">
                <h5>Tips</h5>
            </div>
            <p>Every profile needs to have a unique name. You can customize your profile icon and color to your liking, make it fit your mood and work!</p>
        </div>


        <div class="informationSection">
            <h4>Manage Profiles</h4>

            <div class="infoItem">
                <img class="infoIcon" src="../icons/infoIcons/deleteProfile.png" alt="Icon description">
                <h5>Delete a Profile</h5>
            </div>
            <p>Deletes a profile as well as the seperated history we have kept for you</p>

            <div class="infoItem">
                <img class="infoIcon" src="../icons/infoIcons/deleteHistory.png" alt="Another icon description">
                <h5>Clear Profile History</h5>
            </div>
            <p>Clears out the seperate history for the profile. It does not clean the history from Firefox's native history.</p>

            <div class="infoItem">
                <img class="infoIcon" src="../icons/infoIcons/bin.png" alt="Another icon description">
                <h5>Delete all Profiles</h5>
            </div>
            <p>Deletes all profiles and histories! Be careful when using.</p>
        </div>


        <div class="informationSection">
            <h4>Using your profiles</h4>

            <div class="infoItem">
                <img class="infoIcon" src="../icons/infoIcons/newTab.png" alt="Icon description">
                <h5>"Always Open in..."</h5>
            </div>
            <p>Go to the tab you want, open the addon menu and click "Always Open in...". Select the profile you want and then this site will always open in that container.</p>

            <div class="infoItem">
                <img class="infoIcon" src="../icons/infoIcons/reloadTab.png" alt="Another icon description">
                <h5>"Reopen in..."</h5>
            </div>
            <p>Nothing permanent, just reopen tab in a certain profile.</p>

            <div class="infoItem">
                <img class="infoIcon" src="../icons/infoIcons/sort.png" alt="Another icon description">
                <h5>"Sort Tabs by Profile"</h5>
            </div>
            <p>Helps you organize your session!</p>

            <div class="infoItem">
                <img class="infoIcon" src="../icons/infoIcons/history.png" alt="Another icon description">
                <h5>View History</h5>
            </div>
            <p>Open our custom history page, allowing you to see the seperate history of every one of your profiles.</p>
        </div>


        <div class="informationSection">
            <h4>Use Case</h4>
            <ul>
                <li>The main goal of this addon is to enable you to embark on various information-seeking journeys. By creating a profile for your project, upon visiting the add-on's history, you will be able to see the searches you made for the current subject, essentially bifurcating between the current subject and your personal searches or other endeavors</li>
                <li>It can therefore prove useful for citing pages and articles that contribute to the research of some of your work!</li>
                <li>As will become evident below, our profiles utilize Firefox’s native containers, adding additional security and individuality to your searches</li>
            </ul>
        </div>

        <div class="informationSection">
            <h4>Additional Info</h4>
            <ul>
                <li>Profiles are based on Mozilla Firefox's native containers. The containers provide separation of cookies, making the cross site cookie sharing more complex, thus providing additional privacy to your sessions</li>
                <li>Our profiles naturally keep that functionality, as each profile is registered as a container, but also logs your history separately</li>
                <li>Our history works in conjunction with Firefox’s native history and does not alter it. However even if all your data will be stored on the Firefox history as is, we provide you with a partition of that history according to the profile you searched on</li>
            </ul>
        </div>


    </div>


    <!-- HISTORY PAGE VIEW -->
    <div class="historyPage" id="historyPageId" style="display:none;">
        <div class="profileHeader"> 
            <button class="backButton" id="historyBackButtonId">
                <img id="goToMainView" src="../icons/generalIcons/back.png" alt="Back">
            </button>
            <h3>History</h3>
        </div>
        <button id="toggleOpenInProfile">Open in Profile</button>
        
        <div class="profileDropdown">
            <div class="dropdownContainer">
                <select id="profileSelect" placeholder="Select a Profile">
                    <option value="" disabled selected>Select your profile</option>
                    <!-- <option value="profile1">Profile 1</option>
                    <option value="profile2">Profile 2</option>
                    <option value="profile3">Profile 3</option>
                    <option value="profile4">Profile 4</option> -->
                </select>
                <img src="../icons/historyIcons/dropdown.png" alt="Dropdown" class="dropdownIcon">
            </div>
        </div>

        <div class="divider"></div>

        <div class="searchProfile">
            <div class="searchInputContainer">
                <img src="../icons/infoIcons/lens.png" alt="Search" class="searchIcon">
                <input type="text" id="searchHistory" placeholder="Search History">
            </div>
        </div>
       
        <div class="historyEntriesContainer" id="historyEntriesContainer"></div>

        <div class="historyDivider"></div>
    
    </div>
    




    <!-- USED SCRIPTS -->
    <script type="module" src="../scripts/mainPopup/popup.js"></script>
    <script src="../scripts/background.js"></script>
    

</body>

</html>
